<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="api-caller-behavior.html">

<dom-module id="airports-api">
  <template></template>

  <script>
    Polymer({

      is: 'airports-api',

      behaviors: [ApiCallerBehavior],

      airportsPage: function (country, page, done) {
        this.ajax.method = 'GET';
        this.ajax.url = this.rpath('/api/'+country+'/airports/'+page);
        this.request(done);
      },

      search: function (query, done) {
        this.ajax.method = 'GET';
        this.ajax.url = this.rpath('/api/search/'+query);
        this.request(done);
      },

      countriesWithMostAirports: function (done) {
        this.ajax.method = 'GET';
        this.ajax.url = this.rpath('/api/countries/most');
        this.request(done);
      },

      countriesWithLeastAirports: function (done) {
        this.ajax.method = 'GET';
        this.ajax.url = this.rpath('/api/countries/least');
        this.request(done);
      },

      mostCommonRunwayLatitudes: function (done) {
        this.ajax.method = 'GET';
        this.ajax.url = this.rpath('/api/latitudes/most');
        this.request(done);
      }
    });
  </script>
</dom-module>
